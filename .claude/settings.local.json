{
  "permissions": {
    "allow": [
      "Bash(git init:*)",
      "Bash(git branch:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git remote add:*)",
      "Bash(git push:*)",
      "Bash(python -c:*)",
      "Bash(python -X utf8 -c:*)",
      "Bash(python -m pytest:*)",
      "Bash(pip install:*)",
      "Bash(git status:*)",
      "Bash(ruff check:*)",
      "Bash(python -m ruff check:*)",
      "Bash(python -m ruff format:*)",
      "Bash(npx @anthropic-ai/skills add:*)",
      "Bash(claude skills add:*)",
      "Bash(git clone:*)",
      "Bash(npx next build:*)",
      "Bash(pnpm build:*)",
      "Bash(pnpm install:*)",
      "Bash(npx --yes typescript@5.3:*)",
      "Bash(npx tsc:*)",
      "Bash(ssh root@76.13.46.55:*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwMDAwMDAwMC0wMDAwLTQwMDAtYTAwMC0wMDAwMDAwMDAwMTAiLCJ0aWQiOiIwMDAwMDAwMC0wMDAwLTQwMDAtYTAwMC0wMDAwMDAwMDAwMDEiLCJyb2xlIjoic3VwZXJfYWRtaW4iLCJlbWFpbCI6Im5pY29sYXNAY2xpeGl0ZS5iZSIsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NzEyNTU3ODYsImV4cCI6MTc3MTI1NzU4Nn0.ALt9kEp60aFBjBgimjkhVEO4cnxxDhxbm8FqlyQ7Lt8\")",
      "Bash(TID=\"00000000-0000-4000-a000-000000000001\")",
      "Bash(__NEW_LINE_9959e563acbe891c__ ssh root@76.13.46.55 \"curl -s https://lexibel.clixite.cloud/api/v1/cases -H ''Authorization: Bearer $TOKEN'' -H ''X-Tenant-ID: $TID''\")",
      "Bash(__NEW_LINE_6ede7080d5f5f07e__ ssh root@76.13.46.55 \"curl -s https://lexibel.clixite.cloud/api/v1/contacts -H ''Authorization: Bearer $TOKEN'' -H ''X-Tenant-ID: $TID''\")",
      "Bash(__NEW_LINE_2f3ae6130571136f__ ssh root@76.13.46.55 \"curl -s https://lexibel.clixite.cloud/api/v1/invoices -H ''Authorization: Bearer $TOKEN'' -H ''X-Tenant-ID: $TID''\")",
      "Bash(__NEW_LINE_66734195911da5cb__ ssh root@76.13.46.55 \"curl -s https://lexibel.clixite.cloud/api/v1/time-entries -H ''Authorization: Bearer $TOKEN'' -H ''X-Tenant-ID: $TID''\")",
      "Bash(ssh:*)",
      "WebFetch(domain:lexibel.clixite.cloud)",
      "Bash(python3 -c \"\nimport urllib.request, json, base64, uuid, ssl\n\n# Skip SSL verification for testing\nctx = ssl.create_default_context\\(\\)\nctx.check_hostname = False\nctx.verify_mode = ssl.CERT_NONE\n\nBASE = ''https://lexibel.clixite.cloud/api/v1''\n\n# Login\nlogin_data = json.dumps\\({''email'': ''nicolas@clixite.be'', ''password'': ''LexiBel2026!''}\\).encode\\(\\)\nreq = urllib.request.Request\\(f''{BASE}/auth/login'', data=login_data, headers={''Content-Type'': ''application/json''}\\)\nresp = urllib.request.urlopen\\(req, context=ctx\\)\ntokens = json.loads\\(resp.read\\(\\)\\)\ntoken = tokens[''access_token'']\npayload_b64 = token.split\\(''.''\\)[1] + ''==''\nclaims = json.loads\\(base64.urlsafe_b64decode\\(payload_b64\\)\\)\nuser_id = claims[''sub'']\nprint\\(f''1. Login: OK \\(user={user_id}\\)''\\)\n\nheaders = {''Content-Type'': ''application/json'', ''Authorization'': f''Bearer {token}''}\n\ndef get\\(path\\):\n    req = urllib.request.Request\\(f''{BASE}{path}'', headers=headers\\)\n    resp = urllib.request.urlopen\\(req, context=ctx\\)\n    return resp.status, json.loads\\(resp.read\\(\\)\\)\n\ndef post\\(path, data\\):\n    req = urllib.request.Request\\(f''{BASE}{path}'', data=json.dumps\\(data\\).encode\\(\\), headers=headers, method=''POST''\\)\n    resp = urllib.request.urlopen\\(req, context=ctx\\)\n    return resp.status, json.loads\\(resp.read\\(\\)\\)\n\ndef patch\\(path, data\\):\n    req = urllib.request.Request\\(f''{BASE}{path}'', data=json.dumps\\(data\\).encode\\(\\), headers=headers, method=''PATCH''\\)\n    resp = urllib.request.urlopen\\(req, context=ctx\\)\n    return resp.status, json.loads\\(resp.read\\(\\)\\)\n\n# Health\ncode, data = get\\(''/health''\\)\nprint\\(f''2. GET /health: {code}''\\)\n\n# Cases\ncode, data = get\\(''/cases''\\)\nprint\\(f''3. GET /cases: {code} \\({data[\"\"total\"\"]} cases\\)''\\)\n\n# Create a case\nref = ''E2E-'' + str\\(uuid.uuid4\\(\\)\\)[:6].upper\\(\\)\ncode, case = post\\(''/cases'', {''reference'': ref, ''title'': ''E2E test case'', ''matter_type'': ''penal'', ''responsible_user_id'': user_id}\\)\nprint\\(f''4. POST /cases: {code} \\(id={case[\"\"id\"\"][:8]}..., metadata={case[\"\"metadata\"\"]}\\)''\\)\ncase_id = case[''id'']\n\n# Get single case\ncode, data = get\\(f''/cases/{case_id}''\\)\nprint\\(f''5. GET /cases/{{id}}: {code} \\(ref={data[\"\"reference\"\"]}\\)''\\)\n\n# Update case\ncode, data = patch\\(f''/cases/{case_id}'', {''title'': ''E2E updated''}\\)\nprint\\(f''6. PATCH /cases/{{id}}: {code} \\(title={data[\"\"title\"\"]}\\)''\\)\n\n# Contacts\ncode, data = get\\(''/contacts''\\)\nprint\\(f''7. GET /contacts: {code} \\({data[\"\"total\"\"]} contacts\\)''\\)\n\n# Create contact\ncode, contact = post\\(''/contacts'', {''full_name'': ''E2E Test Contact'', ''type'': ''individual'', ''language'': ''fr''}\\)\nprint\\(f''8. POST /contacts: {code} \\(id={contact[\"\"id\"\"][:8]}...\\)''\\)\n\n# Inbox\ncode, data = get\\(''/inbox''\\)\nprint\\(f''9. GET /inbox: {code} \\({data[\"\"total\"\"]} items\\)''\\)\n\n# Time entries\ncode, data = get\\(''/time-entries''\\)\nprint\\(f''10. GET /time-entries: {code} \\({data[\"\"total\"\"]} entries\\)''\\)\n\n# Invoices\ncode, data = get\\(''/invoices''\\)\nprint\\(f''11. GET /invoices: {code} \\({data[\"\"total\"\"]} invoices\\)''\\)\n\n# Third party entries\ncode, data = get\\(f''/third-party-entries?case_id={case_id}''\\)\nprint\\(f''12. GET /third-party-entries: {code}''\\)\n\n# Users\ncode, data = get\\(''/users''\\)\nprint\\(f''13. GET /users: {code} \\({len\\(data[\"\"items\"\"]\\)} users\\)''\\)\n\n# Roles\ncode, data = get\\(''/roles''\\)\nprint\\(f''14. GET /roles: {code}''\\)\n\n# Audit log\ncode, data = get\\(''/audit-logs''\\)\nprint\\(f''15. GET /audit-logs: {code} \\({data[\"\"total\"\"]} entries\\)''\\)\n\n# Timeline\ncode, data = get\\(f''/timeline?case_id={case_id}''\\)\nprint\\(f''16. GET /timeline: {code}''\\)\n\n# Case sub-resources\ncode, data = get\\(f''/cases/{case_id}/contacts''\\)\nprint\\(f''17. GET /cases/{{id}}/contacts: {code}''\\)\n\ncode, data = get\\(f''/cases/{case_id}/time-entries''\\)\nprint\\(f''18. GET /cases/{{id}}/time-entries: {code}''\\)\n\ncode, data = get\\(f''/cases/{case_id}/documents''\\)\nprint\\(f''19. GET /cases/{{id}}/documents: {code}''\\)\n\nprint\\(\\)\nprint\\(''=== ALL 19 ENDPOINTS VERIFIED ===''\\)\n\")"
    ]
  }
}
